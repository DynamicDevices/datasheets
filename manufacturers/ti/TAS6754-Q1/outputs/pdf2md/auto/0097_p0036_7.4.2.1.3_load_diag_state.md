# 7.4.2.1.3 LOAD DIAG State

In the LOAD DIAG state, the device loads diagnostic information from the internal memory into the diagnostic registers. This state is entered automatically after power-up or when commanded by the host through the appropriate control bits.

## State Entry Conditions

The device enters the LOAD DIAG state under the following conditions:

- Automatic entry after power-on reset (POR)
- Manual entry via the LOAD_DIAG command bit in the control register
- Triggered by specific fault conditions requiring diagnostic data refresh

## Operation

During the LOAD DIAG state, the following operations occur:

- Diagnostic data is read from non-volatile memory or internal fault registers
- The diagnostic registers are updated with the latest fault and status information
- Error counters and fault flags are refreshed
- The device prepares diagnostic information for host readout

## State Duration

The LOAD DIAG state typically completes within a defined time period. The host should monitor the state machine status register to determine when the diagnostic load operation has completed and the device has transitioned to the next state.

## Exit Conditions

The device exits the LOAD DIAG state when:

- All diagnostic data has been successfully loaded into the accessible registers
- The diagnostic load operation completes without errors
- The state machine transitions to the READY or NORMAL operating state

## Register Access

While in the LOAD DIAG state, certain registers may be read-only or locked to prevent corruption of diagnostic data during the load process. The host should wait for state transition completion before attempting to read diagnostic registers.