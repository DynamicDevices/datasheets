# 6.5.2  Machine vision

When the use case is running, the state of the system is as follows:

1. The CPU frequency is set to the maximum value of 1.7 GHz.
2. The DDR data rate is set to 3733 MT/s.
3. The CM33 is running the NPU software driver.

To measure the power consumption of the machine vision, the steps are as follows:

1. Download the ap1302 firmware from ONSemiconductor, and rename it as ap1302.fw.
2. Copy ap1302.fw to the target board under the path /lib/firmware/imx/camera/.
3. Connect AP1302 MIPI camera with J801 on i.MX 93 EVK.
4. Connect the display to the board through the HDMI interface.
5. Boot the Linux image with imx93-11x11-evk.dtb.
6. Download the trained neural network ssd_mobilenet_v2_coco_quant_postprocess.tffile and coco_labels.txt to the path /usr/bin/tensorflow-lite-2.12.1/examples. To generate the vela file, run the following command:

```bash
vela ssd_mobilenet_v2_coco_quant_postprocess.tflite
```

7. Run setup_video_stream.sh.
8. Copy MV_vela.sh, model file named mobilenet_v1_1.0_224_quant_vela.tflite, and label file named coco_labels.txt to /usr/bin/tensorflow-lite-2.12.1/examples in rootfs and run the following command:

```bash
/usr/bin/tensorflow-lite-2.12.1/examples/MV_vela.sh
```

9. Measure the power and record the results.

Table 19 shows the measurement results when this use case applies to the i.MX 93 processor.